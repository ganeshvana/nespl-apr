<odoo>
	<data>
		<template id="opex_without_bom_template_sale">
			<t t-call="production_cost.manufacturing_report_external_layout">
				<t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)" />
				<div class="page">
					<style>
		            table, th, td {
		              border: 1px solid black;
		              border-collapse: collapse;
		            }
		            th, td {
		              padding: 3px;
		            }
		            </style>
					<!-- <table style="border-style: none;" width="100%">
						<td style="border-style: none;" width="70%"/>
						<td style="border-style: none;" width="30%">
							<p>H.O. Office Add:- <br/>
							3A Ground Floor, <br/>
							Circle view apt.<br/>
							Udaipur-313001 (Rajasthan)<br/>
							GSTIN No. :- 08AACCN4908R1ZV<br/>
							Email id : <span t-field="doc.user_id.email"/>
							</p>
						</td>
					</table> -->
					<br/>
					<table style="border-style: none;" width="100%">
						<tr style="border-style: none;" width="100%">
							<td style="border-style: none;" width="50%">Proposal No.: <span t-field="doc.name"/></td>
							<td style="border-style: none;text-align:right;" width="50%">Date: <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d %b, %Y')"/></td>
						</tr>
					</table>
					<br/>					
					<p>
						<strong>To,<br/>
							<span t-field="doc.partner_id.title.name"/> <span t-field="doc.partner_id.name"/><br/>
							<span t-field="doc.partner_id.city"/>
							<span t-field="doc.partner_id.state_id.name"/>
						</strong>
					</p>
					<br/>
					<p>
						<t t-if="doc.reference">
							<strong><u>Reference:- <span t-field="doc.reference"/></u></strong><br/>
						</t>
						<u>
						<strong>
							Subject: <span t-field="doc.subject"/><br/>
							Kind Attn.:  <span t-field="doc.kind_attn"/><br/>
						</strong>
						</u>
					</p>
					<br/>
					<p><span style="line-height: 2;" t-field="doc.content"/></p>
					<p><strong>For Novergy Energy Solutions Pvt. Ltd.</strong>
					<br/>
					<br/>
					<br/>
					<span t-field="doc.user_id.name"/><br/>
					(<span t-field="doc.user_id.employee_id.job_id.name"/>)</p>
					<br/><br/><br/>
					
					
					<p style="page-break-before:always;"> </p>	
					<table style="border-style: solid;border-width:1px;border-top:hidden" width="100%">
						<tr style="solid;border-width:1px;width:100%;boder-top:hidden;border-bottom:hidden">
							<br/>
							<td style="width:100%;text-align:center;border-left:hidden;border-right:hidden">
								<h5>
									<strong>
										<u>COMMERCIAL TERMS AND CONDITIONS</u>
									</strong>
								</h5>
							</td>
						</tr>
					</table>
					<p>
					<strong>A) SUMMARY:</strong><br/>
						<span t-field="doc.opex_description"/>
					</p>

					<table style="border-style: solid;border-width:1px;" width="100%">
						<tr width="100%">
							<br/>
							<br/>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>S.No.</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Plant Name</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Buyer Location</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>Offered Solar capacity KWp (DC)</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Solar System Output Voltage</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Buyer Contract Demand / Sanction Load (KVA)</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="20%">
								<strong>Buyer grid connection Voltage (KV)</strong>
							</td>
						</tr>
						<t t-set="i" t-value="0"/>
						<t t-foreach="doc.opex_lines_site" t-as="line">
							<tr>
								<t t-set="i" t-value="i+1"/>
								<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
									<span t-esc="i"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.plant_name"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
											<span t-field="line.buyer_location"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.solar_capacity"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.output_voltage"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.buyer_contract"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.buyer_grid"/>
								</td>
							</tr>
						</t>
					</table>
					<br/>
						<p style="page-break-before:always;"> </p>	
						<p>
							<strong>B) SOLAR TARIFF:</strong><br/>
						</p>
						
						<table style="border-style: solid;border-width:1px;" width="100%">
						<tr>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>S.No.</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="20%">
								<strong>Plant Name</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="35%">
								<strong>Particular</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="20%">
								<strong>Rate (Rs. / Kwh)</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Tenure of agreement</strong>
							</td>
						</tr>
						<t t-set="i" t-value="0"/>
						<t t-foreach="doc.opex_lines_site_rate" t-as="line">
							<t t-set="i" t-value="i+1"/>
							<tr>
								<td style="border-style: solid;border-width:1px;text-align:center;">
									<span t-esc="i"/>
								</td>
								<td style="border-style: solid;border-width:1px;text-align:center;">
									<span t-field="line.site_id.plant_name"/>
								</td>
								<td style="border-style: solid;border-width:1px;">
									<span t-field="line.particular"/>
								</td>
								<td style="border-style: solid;border-width:1px;text-align:center;">
									<span t-field="line.rate"/>
								</td>								
								<td style="border-style: solid;border-width:1px;text-align:center;">
									<span t-field="line.year"/>
								</td>
							</tr>
						</t>
					</table>
						
					<br/>
					<p style="page-break-before:always;"> </p>	
					<table style="border-style: solid;border-width:1px;border-top:hidden" width="100%">
						<tr style="solid;border-width:1px;width:100%;boder-top:hidden;border-bottom:hidden">
							<td style="width:100%;text-align:left;border-left:hidden;border-right:hidden">
									<strong>
										C) SPECIAL TERMS AND CONDITIONS:
									</strong>
								<br/>
							</td>
						</tr>
					</table>
					
					<table style="border-style: solid;border-width:1px;" width="100%">
						<tr>
							<th style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>S.No.</strong>
							</th>
							<th style="border-style: solid;border-width:1px;text-align:center;" width="45%">
								<strong>Particular</strong>
							</th>
							<th style="border-style: solid;border-width:1px;text-align:center;" width="45%">
								<strong>Offered</strong>
							</th>
						</tr>
						<t t-set="i" t-value="0"/>
						<tbody><t t-foreach="doc.opex_lines" t-as="line">
							<tr>
								<t t-set="i" t-value="i+1"/>
								<td style="border-style: solid;border-width:1px;text-align:center;" width="5%">
									<span t-esc="i"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="45%">
									<span t-field="line.particular"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="45%">
									<span t-field="line.offered"/>
								</td>
							</tr>
						</t></tbody>
					</table>
					<br/>
					<p style="page-break-before:always;"> </p>	
					<table style="border-style: solid;border-width:1px;border-top:hidden" width="100%">
						<tr style="solid;border-width:1px;width:100%;boder-top:hidden;border-bottom:hidden">
							<td style="width:100%;text-align:left;border-left:hidden;border-right:hidden">
									<strong>
										D) GENERAL TERMS AND CONDITIONS:
									</strong>
								<br/>
								<span t-field="doc.sale_term"/>
							</td>
						</tr>
					</table>
					<span style="color:red;font-color:red;">
					<p><center><strong><i><h5>We Look Forward To Your Valuable Orders</h5></i></strong></center></p></span>
					<br/>
					<right><p>Signature not required as this is a computer generated document.</p></right>
				</div>
			</t>
		</template>


		<template id="opex_without_bom_report_sale">
			<t t-call="web.html_container">
				<t t-foreach="docs" t-as="doc">
					<t t-call="production_cost.opex_without_bom_template_sale" t-lang="doc.partner_id.lang" />
				</t>
			</t>
		</template>
		
		<report id="action_opex_without_bom_report_sale"
                string="OPEX Proposal without BoM"
                model="sale.order"
                report_type="qweb-pdf"
                file="production_cost.opex_without_bom_report_sale"
                name="production_cost.opex_without_bom_report_sale"
        />
        
        
        
        <template id="opex_report_with_bom_template_sale">
			<t t-call="production_cost.manufacturing_report_external_layout">
				<t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)" />
				<div class="page">
					<style>
		            table, th, td {
		              border: 1px solid black;
		              border-collapse: collapse;
		            }
		            th, td {
		              padding: 3px;
		            }
		            </style>
					<!-- <table style="border-style: none;" width="100%">
						<td style="border-style: none;" width="70%"/>
						<td style="border-style: none;" width="30%">
							<p>H.O. Office Add:- <br/>
							3A Ground Floor, <br/>
							Circle view apt.<br/>
							Udaipur-313001 (Rajasthan)<br/>
							GSTIN No. :- 08AACCN4908R1ZV<br/>
							Email id : <span t-field="doc.user_id.email"/>
							</p>
						</td>
					</table> -->
					<br/>
					<table style="border-style: none;" width="100%">
						<tr style="border-style: none;" width="100%">
							<td style="border-style: none;" width="50%">Proposal No.: <span t-field="doc.name"/></td>
							<td style="border-style: none;text-align:right;" width="50%">Date: <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d %b, %Y')"/></td>
						</tr>
					</table>
					<br/>					
					<p>
						<strong>To,<br/>
							<span t-field="doc.partner_id.title.name"/> <span t-field="doc.partner_id.name"/><br/>
							<span t-field="doc.partner_id.city"/>
							<span t-field="doc.partner_id.state_id.name"/>
						</strong>
					</p>
					<br/>
					<p>
						<t t-if="doc.reference">
							<strong><u>Reference:- <span t-field="doc.reference"/></u></strong><br/>
						</t>
						<u>
						<strong>
							Subject: <span t-field="doc.subject"/><br/>
							Kind Attn.:  <span t-field="doc.kind_attn"/><br/>
						</strong>
						</u>
					</p>
					<br/>
					<p><span style="line-height: 2;" t-field="doc.content"/></p>
					<p><strong>For Novergy Energy Solutions Pvt. Ltd.</strong>
					<br/>
					<br/>
					<br/>
					<span t-field="doc.user_id.name"/><br/>
					(<span t-field="doc.user_id.employee_id.job_id.name"/>)</p>
					<br/><br/><br/>
					<p style="page-break-before:always;"> </p>	
					<p>
						<h5>
							<strong>
								 <center>BILL OF MATERIAL</center>
							</strong>
						</h5>
					</p>

					<table style="border-style: solid;border-width:1px;" width="100%">
						<tr style="border-style: solid;border-width:1px;">
							<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>Sr.No.</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="50%">
								<strong>Particulars</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="50%">
								<strong>Make/Model</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="20%">
								<strong>Units</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="20%">
								<strong>Quantity</strong>
							</td>


						</tr>
						<t t-set="i" t-value="0"/>
						<t t-foreach="doc.order_line" t-as="line">
							<tr t-att-class="'bg-200 font-weight-bold o_line_section' if line.display_type == 'line_section' else 'font-italic o_line_note' if line.display_type == 'line_note' else ''">
								<t t-if="not line.display_type and line.hide == False">
									<t t-set="i" t-value="i + 1"/>
								<td style="border-style: solid;border-width:1px;text-align:center;" width="5%">
									<span t-esc="i"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="50%">
									<span t-field="line.product_id.name"/> <br/>
									<span t-field="line.name"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="50%">
									<t t-if="line.vendor_ids">
										  <t t-set="aa" t-value="len(line.vendor_ids)"/>
										  <t t-if="aa == 1">
										    <t t-foreach="line.vendor_ids" t-as="l">
	  											<span t-field="l.name"/> 
	  										</t>
										    
										  </t>
										  <t t-else="">
										    <t t-foreach="line.vendor_ids" t-as="l">
	  											<span t-field="l.name"/> /
	  										</t>										    
										  </t>
										<span t-field="line.model"/>
									</t>
								</td>
								<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
									<span t-field="line.product_uom"/>
								</td>
								<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
									<t t-if="line.printkwp">
										<span t-field="line.kwpunit"/>
									</t>
									<t t-if="not line.printkwp">
										<span t-field="line.product_uom_qty"/>
									</t>
								</td>
							</t>
							<t t-if="line.display_type == 'line_section'">
									<td style="border-style: solid;border-width:1px;" name="td_section_line" colspan="99">
										<span t-field="line.name"/>
									</td>
									<t t-set="current_section" t-value="line"/>
									<t t-set="current_subtotal" t-value="0"/>
								</t>
								<t t-if="line.display_type == 'line_note'">
									<td style="border-style: solid;border-width:1px;" name="td_note_line" colspan="99">
										<span t-field="line.name"/>
									</td>
								</t>
							</tr>
						</t>
					</table>					
					<br/>
					<p style="page-break-before:always;"> </p>
					<table style="border-style: solid;border-width:1px;border-top:hidden" width="100%">
						<tr style="solid;border-width:1px;width:100%;boder-top:hidden;border-bottom:hidden">
							<br/>
							<td style="width:100%;text-align:center;border-left:hidden;border-right:hidden">
								<h5>
									<strong>
										<u>COMMERCIAL TERMS AND CONDITIONS</u>
									</strong>
								</h5>
							</td>
						</tr>
					</table>
					<p>
					<strong>A) SUMMARY:</strong><br/>
						<span t-field="doc.opex_description"/>
					</p>

					<table style="border-style: solid;border-width:1px;" width="100%">
						<tr width="100%">
							<br/>
							<br/>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>S.No.</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Plant Name</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Buyer Location</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>Offered Solar capacity KWp (DC)</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Solar System Output Voltage</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Buyer Contract Demand / Sanction Load (KVA)</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="20%">
								<strong>Buyer grid connection Voltage (KV)</strong>
							</td>
						</tr>
						<t t-set="i" t-value="0"/>
						<t t-foreach="doc.opex_lines_site" t-as="line">
							<tr>
								<t t-set="i" t-value="i+1"/>
								<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
									<span t-esc="i"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.plant_name"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
											<span t-field="line.buyer_location"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.solar_capacity"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.output_voltage"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.buyer_contract"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="15%">
									<span t-field="line.buyer_grid"/>
								</td>
							</tr>
						</t>
					</table>
					<br/>
						<p style="page-break-before:always;"> </p>	
						<p>
							<strong>B) SOLAR TARIFF:</strong><br/>
						</p>
						
						<table style="border-style: solid;border-width:1px;" width="100%">
						<tr>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>S.No.</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="20%">
								<strong>Plant Name</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="35%">
								<strong>Particular</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="20%">
								<strong>Rate (Rs. / Kwh)</strong>
							</td>
							<td style="border-style: solid;border-width:1px;text-align:center;" width="15%">
								<strong>Tenure of agreement</strong>
							</td>
						</tr>
						<t t-set="i" t-value="0"/>
						<t t-foreach="doc.opex_lines_site_rate" t-as="line">
							<t t-set="i" t-value="i+1"/>
							<tr>
								<td style="border-style: solid;border-width:1px;text-align:center;">
									<span t-esc="i"/>
								</td>
								<td style="border-style: solid;border-width:1px;text-align:center;">
									<span t-field="line.site_id.plant_name"/>
								</td>
								<td style="border-style: solid;border-width:1px;">
									<span t-field="line.particular"/>
								</td>
								<td style="border-style: solid;border-width:1px;text-align:center;">
									<span t-field="line.rate"/>
								</td>								
								<td style="border-style: solid;border-width:1px;text-align:center;">
									<span t-field="line.year"/>
								</td>
							</tr>
						</t>
					</table>
						
					<br/>
					<p style="page-break-before:always;"> </p>	
					<table style="border-style: solid;border-width:1px;border-top:hidden" width="100%">
						<tr style="solid;border-width:1px;width:100%;boder-top:hidden;border-bottom:hidden">
							<td style="width:100%;text-align:left;border-left:hidden;border-right:hidden">
									<strong>
										C) SPECIAL TERMS AND CONDITIONS:
									</strong>
								<br/>
							</td>
						</tr>
					</table>
					
					<table style="border-style: solid;border-width:1px;" width="100%">
						<tr>
							<th style="border-style: solid;border-width:1px;text-align:center;" width="10%">
								<strong>S.No.</strong>
							</th>
							<th style="border-style: solid;border-width:1px;text-align:center;" width="45%">
								<strong>Particular</strong>
							</th>
							<th style="border-style: solid;border-width:1px;text-align:center;" width="45%">
								<strong>Offered</strong>
							</th>
						</tr>
						<t t-set="i" t-value="0"/>
						<tbody><t t-foreach="doc.opex_lines" t-as="line">
							<tr>
								<t t-set="i" t-value="i+1"/>
								<td style="border-style: solid;border-width:1px;text-align:center;" width="5%">
									<span t-esc="i"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="45%">
									<span t-field="line.particular"/>
								</td>
								<td style="border-style: solid;border-width:1px;" width="45%">
									<span t-field="line.offered"/>
								</td>
							</tr>
						</t></tbody>
					</table>
					<br/>
					<p style="page-break-before:always;"> </p>	
					<table style="border-style: solid;border-width:1px;border-top:hidden" width="100%">
						<tr style="solid;border-width:1px;width:100%;boder-top:hidden;border-bottom:hidden">
							<td style="width:100%;text-align:left;border-left:hidden;border-right:hidden">
									<strong>
										D) GENERAL TERMS AND CONDITIONS:
									</strong>
								<br/>
								<span t-field="doc.sale_term"/>
							</td>
						</tr>
					</table>
					<span style="color:red;font-color:red;">
					<p><center><strong><i><h5>We Look Forward To Your Valuable Orders</h5></i></strong></center></p></span>
					<br/>
					<right><p>Signature not required as this is a computer generated document.</p></right>
				</div>
			</t>
		</template>


		<template id="opex_report_with_bom">
			<t t-call="web.html_container">
				<t t-foreach="docs" t-as="doc">
					<t t-call="production_cost.opex_report_with_bom_template_sale" t-lang="doc.partner_id.lang" />
				</t>
			</t>
		</template>
		
		<report id="action_report_opex_with_bom_sale"
                string="OPEX Proposal with BOM"
                model="sale.order"
                report_type="qweb-pdf"
                file="production_cost.opex_report_with_bom"
                name="production_cost.opex_report_with_bom"/>
        
        
        
        
	</data>
</odoo>  